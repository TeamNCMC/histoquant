
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Quantify histological data">
      
      
        <meta name="author" content="Guillaume Le Goc">
      
      
      
        <link rel="prev" href="guide-register-abba.html">
      
      
        <link rel="next" href="guide-pipeline.html">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>Prepare QuPath data - cuisto</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
        <script src="assets/external/unpkg.com/iframe-worker/shim.js"></script>
      
    
    
      
        
        
        
        <link rel="stylesheet" href="assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
      <link rel="stylesheet" href="assets/external/unpkg.com/katex@0/dist/katex.min.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#prepare-qupath-data" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="cuisto" class="md-header__button md-logo" aria-label="cuisto" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            cuisto
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Prepare QuPath data
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/TeamNCMC/cuisto" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="cuisto" class="md-nav__button md-logo" aria-label="cuisto" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    cuisto
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/TeamNCMC/cuisto" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="main-getting-started.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Guides
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guide-install-abba.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install ABBA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guide-create-pyramids.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create pyramidal OME-TIFF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guide-qupath-objects.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Detect objects with QuPath
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guide-register-abba.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Registration with ABBA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Prepare QuPath data
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="guide-prepare-qupath.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Prepare QuPath data
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#qupath-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      QuPath requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="QuPath requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detections" class="md-nav__link">
    <span class="md-ellipsis">
      Detections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#annotations" class="md-nav__link">
    <span class="md-ellipsis">
      Annotations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#measurements" class="md-nav__link">
    <span class="md-ellipsis">
      Measurements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Measurements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metrics-supported-by-cuisto" class="md-nav__link">
    <span class="md-ellipsis">
      Metrics supported by cuisto
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-measurements" class="md-nav__link">
    <span class="md-ellipsis">
      Adding measurements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adding measurements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#count-for-cell-like-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Count for cell-like objects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cumulated-length-for-fibers-like-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Cumulated length for fibers-like objects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-measurements" class="md-nav__link">
    <span class="md-ellipsis">
      Custom measurements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#qupath-export" class="md-nav__link">
    <span class="md-ellipsis">
      QuPath export
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="guide-pipeline.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tips
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tips
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tips-formats.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data format
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tips-qupath.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    QuPath
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tips-abba.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ABBA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="tips-brain-contours.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Brain contours
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="main-configuration-files.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    The configuration files
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="main-using-notebooks.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using notebooks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="demo_notebooks/cells_distributions.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cells distributions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="demo_notebooks/fibers_coverage.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fibers coverage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="demo_notebooks/density_map.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Density map
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="demo_notebooks/fibers_length_multi.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fibers length in multi animals
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Package reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Package reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-config.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cuisto.config
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-compute.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cuisto.compute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-process.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cuisto.process
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-display.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cuisto.display
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-utils.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cuisto.utils
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-io.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cuisto.io
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-seg.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cuisto.seg
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Scripts reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Scripts reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-script-segment.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    segment_images
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="api-script-qupath-script-runner.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    qupath_script_runner
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="main-getting-help.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting help
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="main-citing.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Citing
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#qupath-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      QuPath requirements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="QuPath requirements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#detections" class="md-nav__link">
    <span class="md-ellipsis">
      Detections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#annotations" class="md-nav__link">
    <span class="md-ellipsis">
      Annotations
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#measurements" class="md-nav__link">
    <span class="md-ellipsis">
      Measurements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Measurements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metrics-supported-by-cuisto" class="md-nav__link">
    <span class="md-ellipsis">
      Metrics supported by cuisto
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#adding-measurements" class="md-nav__link">
    <span class="md-ellipsis">
      Adding measurements
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adding measurements">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#count-for-cell-like-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Count for cell-like objects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cumulated-length-for-fibers-like-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Cumulated length for fibers-like objects
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-measurements" class="md-nav__link">
    <span class="md-ellipsis">
      Custom measurements
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#qupath-export" class="md-nav__link">
    <span class="md-ellipsis">
      QuPath export
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                



                  

  
  


<h1 id="prepare-qupath-data">Prepare QuPath data<a class="headerlink" href="#prepare-qupath-data" title="Permanent link">#</a></h1>
<p><code>cuisto</code> uses some QuPath classifications concepts, make sure to be familiar with them with the <a href="https://qupath.readthedocs.io/en/stable/docs/concepts/classifications.html#classifications-derived-classifications">official documentation</a>. Notably, we use the concept of primary classification and derived classification : an object classfied as <code>First: second</code> is of classification <code>First</code> and of derived classification <code>second</code>.</p>
<h2 id="qupath-requirements">QuPath requirements<a class="headerlink" href="#qupath-requirements" title="Permanent link">#</a></h2>
<p><code>cuisto</code> assumes a specific way of storing regions and objects information in the TSV files exported from QuPath. Note that only one primary classification is supported, but you can have any number of derived classifications.</p>
<h3 id="detections">Detections<a class="headerlink" href="#detections" title="Permanent link">#</a></h3>
<p>Detections are the objects of interest. Their information must respect the following :</p>
<ul>
<li>Atlas coordinates should be in millimetres (mm) and stored as <code>Atlas_X</code>, <code>Atlas_Y</code>, <code>Atlas_Z</code>. They correspond, respectively, to the anterio-posterior (rostro-caudal) axis, the inferio-superior (dorso-ventral) axis and the left-right (medio-lateral) axis.</li>
<li>They must have a derived classification, in the form <code>Primary: second</code>. Primary would be an object type (cells, fibers, ...), the second one would be a biological marker or a detection channel (fluorescence channel name), for instance : <code>Cells: some marker</code>, or <code>Fibers: EGFP</code>.</li>
<li>The classification must match exactly the corresponding measurement in the annotations (see below).</li>
</ul>
<h3 id="annotations">Annotations<a class="headerlink" href="#annotations" title="Permanent link">#</a></h3>
<p>Annotations correspond to the atlas regions. Their information must respect the following :</p>
<ul>
<li>They should be imported with the ABBA extension as acronyms and splitting left/right. Therefore, the annotation name should be the region acronym and its classification should be formatted as <code>Hemisphere: acronym</code> (for ex. <code>Left: PAG</code>).</li>
<li>Measurements names should be formatted as :<br />
<code>Primary classification: derived classification measurement name</code>.<br />
For instance :  <ul>
<li>if one has <em>cells</em> with <em>some marker</em> and <em>count</em> them in each atlas regions, the measurement name would be :<br />
<code>Cells: some marker Count</code>.</li>
<li>if one segments <em>fibers</em> revealed in the <em>EGFP</em> channel and measures the cumulated <em>length</em> in µm in each atlas regions, the measurement name would be :<br />
<code>Fibers: EGFP Length µm</code>.</li>
</ul>
</li>
<li>Any number of markers or channels are supported.</li>
</ul>
<h2 id="measurements">Measurements<a class="headerlink" href="#measurements" title="Permanent link">#</a></h2>
<h3 id="metrics-supported-by-cuisto">Metrics supported by <code>cuisto</code><a class="headerlink" href="#metrics-supported-by-cuisto" title="Permanent link">#</a></h3>
<p>While you're free to add any measurements as long as they follow <a href="#qupath-requirements">the requirements</a>, keep in mind that for atlas regions quantification, <code>cuisto</code> will only compute, pool and average the following metrics :</p>
<ul>
<li>the base measurement itself<ul>
<li>if "µm" is contained in the measurement name, it will also be converted to mm (<span class="arithmatex">\(\div\)</span>1000)</li>
</ul>
</li>
<li>the base measurement divided by the region area in µm² (density in something/µm²)</li>
<li>the base measurement divided by the region area in mm² (density in something/mm²)</li>
<li>the squared base measurement divided by the region area in µm² (could be an index, in weird units...)</li>
<li>the relative base measurement : the base measurement divided by the total base measurement across all regions <em>in each hemisphere</em></li>
<li>the relative density : density divided by total density across all regions <em>in each hemisphere</em></li>
</ul>
<p>It is then up to you to select which metrics among those to compute and display and name them, via the <a href="main-configuration-files.html#configtoml">configuration file</a>.</p>
<p>For punctal detections (eg. objects whose only the centroid is considered), only the atlas coordinates are used, to compute and display spatial distributions of objects across the brain (using their classifications to give each distributions different hues).<br />
For fibers-like objects, it requires to export the lines detections atlas coordinates as JSON files, with the <code>exportFibersAtlasCoordinates.groovy</code> script (this is done automatically when using the <a href="guide-pipeline.html">pipeline</a>).</p>
<h3 id="adding-measurements">Adding measurements<a class="headerlink" href="#adding-measurements" title="Permanent link">#</a></h3>
<h4 id="count-for-cell-like-objects">Count for cell-like objects<a class="headerlink" href="#count-for-cell-like-objects" title="Permanent link">#</a></h4>
<p>The groovy script under <code>scripts/qupath-utils/measurements/addRegionsCount.groovy</code> will add a properly formatted count of objects of selected classifications in all atlas regions. This is used for punctual objects (polygons or points), for example objects created in QuPath or with the <a href="api-script-segment.html">segmentation script</a>.</p>
<h4 id="cumulated-length-for-fibers-like-objects">Cumulated length for fibers-like objects<a class="headerlink" href="#cumulated-length-for-fibers-like-objects" title="Permanent link">#</a></h4>
<p>The groovy script under <code>scripts/qupath-utils/measurements/addRegionsLength.groovy</code> will add the properly formatted cumulated lenghth in microns of fibers-like objects in all atlas regions. This is used for polylines objects, for example generated with the <a href="api-script-segment.html">segmentation script</a>.</p>
<h4 id="custom-measurements">Custom measurements<a class="headerlink" href="#custom-measurements" title="Permanent link">#</a></h4>
<p>Keeping in mind <a href="#metrics-supported-by-cuisto"><code>cuisto</code> limitations</a>, you can add any measurements you'd like.</p>
<p>For example, you can run a <a href="https://qupath.readthedocs.io/en/stable/docs/tutorials/pixel_classification.html">pixel classifier</a> in all annotations (eg. atlas regions). Using the <code>Measure</code> button, it will add a measurement of <a href="https://qupath.readthedocs.io/en/stable/docs/tutorials/measuring_areas.html#generating-results">the area covered by classified pixels</a>. Then, you can use the script located under <code>scripts/qupath-utils/measurements/renameMeasurements.groovy</code> to rename the generated measurements with a <a href="#annotations">properly-formatted name</a>. Finally, you can <a href="#qupath-export">export</a> regions measurements.</p>
<p>Since <code>cuisto</code> will compute a "density", eg. the measurement divided by the region area, in this case, it will correspond to the fraction of surface occupied by classified pixels. This is showcased in the <a href="demo_notebooks/fibers_coverage.html">Examples</a>.</p>
<h2 id="qupath-export">QuPath export<a class="headerlink" href="#qupath-export" title="Permanent link">#</a></h2>
<p>Once you imported atlas regions registered with ABBA, detected objects in your images and added <a href="#qupath-requirements">properly formatted</a> measurements to detections and annotations, you can : </p>
<ul>
<li>Head to <code>Measure &gt; Export measurements</code></li>
<li>Select relevant images</li>
<li>Choose the <code>Output file</code> (specify in the file name if it is a detections or annotations file)</li>
<li>Chose either <code>Detections</code> or <code>Annoations</code> in <code>Export type</code></li>
<li>Click <code>Export</code></li>
</ul>
<p>Do this for both Detections and Annotations, you can then use those files with <code>cuisto</code> (see the <a href="main-using-notebooks.html">Examples</a>).</p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 19, 2024</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">December 19, 2024</span>
  </span>

    
    
    
  </aside>





                

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="guide-register-abba.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Registration with ABBA">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Registration with ABBA
              </div>
            </div>
          </a>
        
        
          
          <a href="guide-pipeline.html" class="md-footer__link md-footer__link--next" aria-label="Next: Pipeline">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Pipeline
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Julien Bouvier lab -- NeuroPSI -- CNRS/University Paris-Saclay UMR 9197
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.path", "navigation.footer", "navigation.top", "content.code.copy", "content.code.select", "toc.follow"], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
        <script src="javascripts/katex.js"></script>
      
        <script src="assets/external/unpkg.com/katex@0/dist/katex.min.js"></script>
      
        <script src="assets/external/unpkg.com/katex@0/dist/contrib/auto-render.min.js"></script>
      
        <script src="assets/external/unpkg.com/mermaid@11/dist/mermaid.min.js"></script>
      
    
  </body>
</html>